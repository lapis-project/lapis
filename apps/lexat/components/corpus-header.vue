<script lang="ts" setup>
import { Menu, XIcon } from "lucide-vue-next";

import type { NuxtLinkProps } from "#app";

const t = useTranslations();

const drawerOpen = ref<boolean>(false);

const links = computed(() => {
	return {
		about: { to: { path: "/about" }, label: "Ãœber das Projekt" },
		transcripts: { to: { path: "/transcripts" }, label: "Transkripte" },
		// articles: { to: { path: "/articles" }, label: t("AppHeader.links.articles") },
		// db: { to: { path: "/db" }, label: t("AppHeader.links.db") },
		// research: { to: { path: "/maps" }, label: t("AppHeader.links.research") },
	} satisfies Record<string, { to: NuxtLinkProps["href"]; label: string }>;
});

const mobileLinks = computed(() => {
	return {
		home: { to: { path: "/" }, label: t("AppHeader.links.home") },
		...links.value,
	};
});
</script>

<template>
	<header class="container border-b">
		<div class="flex h-16 items-center justify-between gap-4 py-4">
			<Drawer v-model:open="drawerOpen">
				<DrawerTrigger class="lg:hidden">
					<ClientOnly>
						<Button id="mobile-menu" class="lg:hidden" size="icon" variant="outline"
							><component :is="drawerOpen ? XIcon : Menu" class="size-4"
						/></Button>
					</ClientOnly>
				</DrawerTrigger>
				<DrawerContent>
					<DrawerHeader>
						<DrawerTitle>Navigation</DrawerTitle>
					</DrawerHeader>
					<DrawerFooter>
						<DrawerClose>
							<nav :aria-label="t('AppHeader.navigation-main')" class="pb-12">
								<ul class="flex flex-col" role="list">
									<li
										v-for="(link, key) of mobileLinks"
										:key="key"
										class="border-b p-3 last:border-none"
									>
										<NuxtLinkLocale
											class="uppercase"
											exact-active-class="underline underline-offset-2"
											:to="link.to"
										>
											{{ link.label }}
										</NuxtLinkLocale>
									</li>
								</ul>
							</nav>
						</DrawerClose>
					</DrawerFooter>
				</DrawerContent>
			</Drawer>

			<NuxtLinkLocale class="hidden lg:block" to="/">
				<svg
					class="w-40"
					fill="none"
					height="60"
					viewBox="0 0 212 60"
					width="212"
					xmlns="http://www.w3.org/2000/svg"
				>
					<path
						d="M38.5578 31.3356C39.2414 31.3356 40.0276 31.6096 40.9164 32.1575C40.9164 32.637 40.6771 33.9726 40.1985 36.1644C39.2414 40.274 38.5578 42.3973 38.1476 42.5342C35.9599 43.2877 33.7039 44.0068 31.3795 44.6918C29.1234 45.3767 26.3888 45.7192 23.1757 45.7192C20.0309 45.7192 17.057 45.1712 14.2541 44.0753C11.4511 42.911 8.98998 41.3356 6.87067 39.3493C2.29022 35.0342 0 29.6918 0 23.3219C0 16.8836 2.29022 11.3699 6.87067 6.78082C11.3827 2.26027 16.8861 0 23.3808 0C28.85 0 33.5671 0.410958 37.5323 1.23287L39.7883 11.5068C39.7883 11.7123 39.5832 11.9521 39.173 12.226C38.8312 12.4315 38.421 12.5342 37.9425 12.5342C37.5323 12.5342 37.2588 12.4315 37.1221 12.226C36.3701 9.89726 35.3788 8.11644 34.1482 6.88356C31.6187 4.21233 28.2347 2.87671 23.9961 2.87671C19.484 2.87671 16.0999 4.76027 13.8439 8.5274C11.8613 11.8151 10.87 16.0959 10.87 21.3699C10.87 27.2603 11.998 32.1233 14.2541 35.9589C16.9203 40.4794 20.6462 42.7397 25.4317 42.7397C30.0122 42.7397 33.3962 40.9589 35.5839 37.3973C36.6777 35.7534 37.4297 34.3836 37.8399 33.2877C38.2501 32.1233 38.4894 31.4726 38.5578 31.3356Z"
						fill="currentColor"
					/>
					<path
						d="M60.5341 17.6712C57.4577 17.6712 55.7486 20.2055 55.4068 25.274C55.27 26.6438 55.2017 28.0137 55.2017 29.3836C55.2017 30.7534 55.3042 32.2603 55.5093 33.9041C55.7828 35.4794 56.2271 36.9178 56.8424 38.2192C58.1413 41.3014 59.8847 42.8425 62.0723 42.8425C65.2855 42.8425 67.0971 40.3425 67.5073 35.3425C67.5757 34.0411 67.6099 32.7055 67.6099 31.3356C67.6099 29.9658 67.4731 28.4589 67.1997 26.8151C66.9262 25.1712 66.4819 23.6986 65.8666 22.3973C64.5676 19.2466 62.7902 17.6712 60.5341 17.6712ZM61.3545 14.8973C63.6789 14.8973 65.7982 15.274 67.7124 16.0274C69.695 16.7808 71.4041 17.8425 72.8398 19.2123C75.7795 22.089 77.2493 25.6849 77.2493 30C77.2493 34.2466 75.7111 37.9452 72.6347 41.0959C69.695 44.1781 65.9691 45.7192 61.457 45.7192C56.7399 45.7192 52.9114 44.2466 49.9718 41.3014C47.0321 38.3562 45.5622 34.7603 45.5622 30.5137C45.5622 26.3356 47.0662 22.6712 50.0743 19.5205C53.0824 16.4384 56.8424 14.8973 61.3545 14.8973Z"
						fill="currentColor"
					/>
					<path
						d="M90.8699 45C88.0669 45 84.9563 45.1712 81.5381 45.5137C81.4013 45.3082 81.333 44.8973 81.333 44.2808C81.333 43.6644 81.4013 43.2192 81.5381 42.9452C82.9737 42.9452 84.0334 42.8082 84.717 42.5342C85.4007 42.1918 85.8109 41.9178 85.9476 41.7123C86.2894 40.8904 86.4603 38.7671 86.4603 35.3425V26.5068C86.4603 25.9589 86.392 25.137 86.2552 24.0411C86.1185 22.9452 85.9818 22.2603 85.8451 21.9863C85.3665 21.0959 83.9308 20.6507 81.5381 20.6507C81.4013 20.5822 81.333 20.2397 81.333 19.6233C81.4014 18.9384 81.5039 18.5959 81.6406 18.5959C84.2385 18.3904 86.768 17.911 89.2291 17.1575C91.6903 16.3356 93.5703 15.6164 94.8692 15C95.0743 15.0685 95.3136 15.2397 95.587 15.5137C95.8605 15.7877 95.9631 15.9931 95.8947 16.1301C95.8947 16.2671 95.8605 16.5753 95.7921 17.0548C95.7238 17.5342 95.6554 18.0822 95.587 18.6986C95.5187 19.2466 95.4503 19.7945 95.382 20.3425C95.3136 20.8904 95.2794 21.2671 95.2794 21.4726C95.2794 21.6096 95.3478 21.7123 95.4845 21.7808C95.6212 21.7808 95.6896 21.7466 95.6896 21.6781C96.9202 19.6233 97.9456 18.1849 98.766 17.363C100.544 15.7192 102.355 14.8973 104.201 14.8973C106.252 14.8973 107.653 15.274 108.405 16.0274C108.952 16.8493 109.226 17.774 109.226 18.8014C109.226 19.7603 109.123 20.5822 108.918 21.2671C108.713 21.8836 108.405 22.4658 107.995 23.0137C107.175 24.1781 106.218 24.7603 105.124 24.7603C104.509 24.7603 103.962 24.5548 103.483 24.1438C103.073 23.7329 102.663 23.3562 102.253 23.0137C101.911 22.6712 101.535 22.363 101.125 22.089C100.783 21.7466 100.304 21.5753 99.6889 21.5753C99.0737 21.5753 98.4926 21.8151 97.9456 22.2945C97.3987 22.7055 96.9202 23.2192 96.51 23.8356C95.6896 25.0685 95.2794 26.1644 95.2794 27.1233V35.3425C95.2794 38.7671 95.382 40.7534 95.587 41.3014C95.7921 41.7808 96.0656 42.1233 96.4074 42.3288C96.7493 42.4658 97.1253 42.6027 97.5355 42.7397C98.2191 42.8767 98.9369 42.9452 99.6889 42.9452C99.8257 43.2192 99.894 43.6644 99.894 44.2808C99.894 44.8973 99.8257 45.3082 99.6889 45.5137C96.2707 45.1712 93.331 45 90.8699 45Z"
						fill="currentColor"
					/>
					<path
						d="M122.065 59.4863C119.125 59.4863 116.049 59.6575 112.836 60C112.699 59.7945 112.596 59.3836 112.528 58.7671C112.528 58.1507 112.631 57.7055 112.836 57.4315C114.135 57.4315 115.16 57.2945 115.912 57.0205C116.664 56.7466 117.074 56.5068 117.143 56.3014C117.484 55.3425 117.655 53.2192 117.655 49.9315V26.5068C117.655 25.9589 117.587 25.137 117.45 24.0411C117.314 22.9452 117.177 22.2603 117.04 21.9863C116.698 21.3014 115.536 20.8904 113.553 20.7534C113.143 20.6849 112.87 20.6507 112.733 20.6507C112.665 20.5822 112.631 20.2397 112.631 19.6233C112.631 18.9384 112.699 18.5959 112.836 18.5959C115.433 18.3904 117.963 17.911 120.424 17.1575C122.885 16.3356 124.765 15.6164 126.064 15C126.338 15.0685 126.577 15.2397 126.782 15.5137C127.056 15.7877 127.158 16.0274 127.09 16.2329C127.09 16.3699 126.987 16.6438 126.782 17.0548C126.645 17.3973 126.577 17.774 126.577 18.1849C126.577 18.5274 126.611 18.7671 126.68 18.9041C126.748 18.9726 127.056 18.6986 127.602 18.0822C128.149 17.4658 129.072 16.7808 130.371 16.0274C131.67 15.2055 133.106 14.7945 134.678 14.7945C136.251 14.7945 137.823 15.2055 139.395 16.0274C141.036 16.8493 142.438 17.9452 143.6 19.3151C145.993 22.0548 147.189 25.411 147.189 29.3836C147.189 34.2466 145.343 38.2877 141.651 41.5068C138.438 44.3151 134.747 45.7192 130.576 45.7192C129.619 45.7192 128.765 45.6164 128.013 45.411C127.261 45.2055 126.816 45.1027 126.68 45.1027C126.543 45.1027 126.474 45.4794 126.474 46.2329V49.9315C126.474 53.2192 126.645 55.3425 126.987 56.3014C127.261 57.0548 128.696 57.4315 131.294 57.4315C131.499 57.7055 131.568 58.1507 131.499 58.7671C131.499 59.3836 131.431 59.7945 131.294 60C128.013 59.6575 124.936 59.4863 122.065 59.4863ZM126.474 38.7329C126.474 40.1027 126.953 41.1301 127.91 41.8151C128.867 42.4315 129.756 42.7397 130.576 42.7397C131.465 42.7397 132.285 42.5342 133.037 42.1233C133.789 41.7123 134.473 41.0616 135.088 40.1712C136.661 38.0479 137.447 35.2397 137.447 31.7466C137.447 28.2534 136.934 25.411 135.909 23.2192C134.883 20.9589 132.969 19.8288 130.166 19.8288C128.936 19.8288 128.013 20.1027 127.397 20.6507C126.782 21.1986 126.474 21.5411 126.474 21.6781V38.7329Z"
						fill="currentColor"
					/>
					<path
						d="M168.902 18.5959C173.346 18.2534 177.721 17.0548 182.028 15C182.302 15.0685 182.575 15.2397 182.849 15.5137C183.122 15.7877 183.259 15.9931 183.259 16.1301C183.122 16.4726 182.951 17.3973 182.746 18.9041C182.541 20.3425 182.438 21.5411 182.438 22.5V37.911C182.438 38.4589 182.438 38.9384 182.438 39.3493C182.507 39.7603 182.712 40.137 183.054 40.4794C183.464 40.8904 184.489 41.0959 186.13 41.0959C186.267 41.3699 186.335 41.7466 186.335 42.226C186.335 42.637 186.198 43.0137 185.925 43.3562C184.558 43.4247 182.336 43.8356 179.259 44.589C176.183 45.3425 174.542 45.7192 174.337 45.7192C173.927 45.7192 173.722 45.1712 173.722 44.0753V42.9452C173.722 42.6712 173.653 42.5685 173.517 42.637C170.44 44.5548 167.261 45.5137 163.98 45.5137C159.536 45.5137 156.767 43.0137 155.674 38.0137C155.4 36.5068 155.263 34.9658 155.263 33.3904V26.5068C155.263 25.9589 155.195 25.137 155.058 24.0411C154.922 22.9452 154.785 22.2603 154.648 21.9863C154.306 21.3014 153.144 20.8904 151.161 20.7534C150.751 20.6849 150.478 20.6507 150.341 20.6507C150.273 20.5822 150.239 20.2397 150.239 19.6233C150.239 18.9384 150.307 18.5959 150.444 18.5959C153.041 18.3904 155.571 17.911 158.032 17.1575C160.493 16.3356 162.373 15.6164 163.672 15C163.946 15.0685 164.185 15.2397 164.39 15.5137C164.664 15.7877 164.8 15.9931 164.8 16.1301C164.664 16.4041 164.527 16.9863 164.39 17.8767C164.253 18.7671 164.151 19.5205 164.082 20.137C164.082 20.7534 164.082 21.5411 164.082 22.5V30.3082C164.082 33.9384 164.424 36.7123 165.108 38.6301C165.792 40.4794 167.193 41.4041 169.312 41.4041C170.269 41.4041 171.227 41.1301 172.184 40.5822C173.209 40.0342 173.722 39.4863 173.722 38.9384V26.5068C173.722 25.9589 173.653 25.137 173.517 24.0411C173.38 22.9452 173.243 22.2603 173.107 21.9863C172.696 21.0959 171.261 20.6507 168.8 20.6507C168.663 20.5822 168.594 20.2397 168.594 19.6233C168.594 18.9384 168.697 18.5959 168.902 18.5959Z"
						fill="currentColor"
					/>
					<path
						d="M190.157 35.5479C190.157 35.2055 190.499 35.0342 191.183 35.0342C191.867 35.0342 192.345 35.274 192.619 35.7534C193.097 38.4247 194.123 40.3767 195.695 41.6096C196.857 42.5685 198.156 43.0479 199.592 43.0479C201.027 43.0479 202.087 42.6712 202.771 41.9178C203.454 41.1644 203.796 40.3425 203.796 39.4521C203.796 38.5616 203.557 37.8425 203.078 37.2945C202.668 36.6781 202.121 36.1644 201.438 35.7534C200.822 35.3425 200.105 34.9315 199.284 34.5205C196.276 33.1507 193.747 31.5068 191.696 29.589C190.328 28.2877 189.645 26.6438 189.645 24.6575C189.645 22.6027 190.055 20.9931 190.875 19.8288C191.696 18.6644 192.721 17.7055 193.952 16.9521C196.276 15.5137 199.045 14.7945 202.258 14.7945C203.83 14.7945 205.198 14.9658 206.36 15.3082C207.522 15.5822 208.684 15.8562 209.847 16.1301C210.257 17.8425 210.599 19.589 210.872 21.3699C211.145 23.1507 211.282 24.2123 211.282 24.5548C211.282 24.8288 210.975 24.9657 210.359 24.9657C209.744 24.9657 209.231 24.7603 208.821 24.3493C208.274 22.363 207.659 20.9247 206.975 20.0342C205.54 18.3904 203.762 17.5685 201.643 17.5685C200.481 17.5685 199.523 17.8767 198.771 18.4931C198.088 19.1096 197.746 19.9315 197.746 20.9589C197.746 21.9863 197.951 22.8082 198.361 23.4247C198.84 24.0411 199.387 24.589 200.002 25.0685C200.686 25.4795 201.438 25.8562 202.258 26.1986C203.078 26.5411 203.899 26.9178 204.719 27.3288C205.54 27.6712 206.394 28.0822 207.283 28.5616C208.172 29.0411 208.958 29.6233 209.641 30.3082C211.214 31.8836 212 33.7329 212 35.8562C212 37.911 211.624 39.5205 210.872 40.6849C210.12 41.8493 209.129 42.8082 207.898 43.5616C205.574 45 202.497 45.7192 198.669 45.7192C197.096 45.7192 195.592 45.5479 194.157 45.2055C192.721 44.7945 191.559 44.4863 190.67 44.2808C190.533 43.3219 190.431 42.089 190.363 40.5822C190.294 39.0068 190.226 37.8425 190.157 37.089C190.157 36.2671 190.157 35.7534 190.157 35.5479Z"
						fill="currentColor"
					/>
				</svg>
			</NuxtLinkLocale>
			<!-- <img src="@/assets/lexat.svg" alt="LexAT Logo" class="w-32" /> -->
			<nav :aria-label="t('AppHeader.navigation-main')" class="hidden lg:block">
				<ul class="flex items-center gap-4" role="list">
					<li v-for="(link, key) of links" :key="key">
						<NuxtLinkLocale
							class="uppercase"
							exact-active-class="underline underline-offset-2"
							:to="link.to"
						>
							{{ link.label }}
						</NuxtLinkLocale>
					</li>
				</ul>
			</nav>

			<div class="relative flex items-center gap-4">
				<ColorSchemeSwitcher />
				<LocaleSwitcher />
				<UserPanel />
			</div>
		</div>
	</header>
</template>
